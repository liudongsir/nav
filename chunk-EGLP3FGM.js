import{ga as z,ha as W}from"./chunk-V7GHR4DR.js";import{Ce as y,Zd as I,a as x,b as P,f as G,h as E,le as T,ue as O,ve as C,xe as S,ze as w}from"./chunk-BKYE6ZRN.js";var B=G(z(),1);var $=(n=>(n[n.All=1]="All",n[n.Title=2]="Title",n[n.Desc=3]="Desc",n[n.Url=4]="Url",n[n.Current=5]="Current",n[n.Quick=6]="Quick",n[n.Id=7]="Id",n[n.Tag=8]="Tag",n[n.Class=9]="Class",n))($||{});function nt(e){return Math.floor(Math.random()*e)}function rt(e,t){if(!t.trim())return[];t=t.toLowerCase();let{type:i,id:s}=A(),{oneIndex:o,twoIndex:u}=R(s),c=Number(i)||1,l=[],p=[{nav:l,id:-1,title:y("_searchRes"),icon:""}],n=new Map;c===9&&(p=[]);function d(m){m=m||e;t:for(let f=0;f<m.length;f++){let r=m[f];if(c===9){r.title&&(r.title.toLowerCase().includes(t)||r.id==t)&&r.nav?.[0]?.name&&p.push(r),Array.isArray(r.nav)&&d(r.nav);continue}if(Array.isArray(r.nav)&&d(r.nav),r.name){r.name=k(r.name),r.desc=k(r.desc);let g=r.name.toLowerCase(),b=r.desc.toLowerCase(),D=r.url.toLowerCase();if(b[0]==="!")continue;let L=()=>{if(g.includes(t)){let a=r,h=new RegExp(`(${t})`,"i");if(a.__name__=a.name,a.name=a.name.replace(h,"<b>$1</b>"),!n.has(a.id))return n.set(a.id,!0),l.push(a),!0}return!1},M=()=>{if(D.includes(t)&&!n.has(r.id)||r.tags.some(h=>h.url?.includes(t))&&!n.has(r.id))return n.set(r.id,!0),l.push(r),!0},_=()=>{if(b.includes(t)){let a=r,h=new RegExp(`(${t})`,"i");if(a.__desc__=a.desc,a.desc=a.desc.replace(h,"<b>$1</b>"),!n.has(a.id))return n.set(a.id,!0),l.push(a),!0}return!1},H=()=>{if(r.top&&g.includes(t)){let a=r,h=new RegExp(`(${t})`,"i");if(a.__name__=a.name,a.name=a.name.replace(h,"<b>$1</b>"),!n.has(a.id))return n.set(a.id,!0),l.push(a),!0}return!1},Y=()=>r.tags.forEach(a=>{S()[a.id]?.name?.toLowerCase()===t&&(n.has(r.id)||(n.set(r.id,!0),l.push(r)))}),q=()=>r.id==t?(l.push(r),!0):!1;try{switch(c){case 4:M();break;case 2:L();break;case 3:_();break;case 6:H();break;case 8:Y();break;case 7:if(q())break t;break;default:L(),_(),M()}}catch(a){console.error(a)}}}}return c===5?d(e[o].nav[u].nav):d(),c!==9&&l.length<=0?[]:p}function ot(){return`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`}var N;function st(){N&&(clearInterval(N),N=null);let e=document.getElementById("random-light-bg");e&&e.parentNode?.removeChild(e)}function A(e=!0){let{href:t}=location,i=t.split("?")[1]||"",s=B.default.parse(i),o=s.id;if(e&&s.id==null)try{let u=localStorage.getItem(I.LOCATION);u&&(o=JSON.parse(u).id)}catch{}return P(x({},s),{type:s.type,q:s.q||"",id:o})}function at(){let{id:e}=A();window.localStorage.setItem(I.LOCATION,JSON.stringify({id:e}))}function it(){let e=C().list[0]||{};try{let t=window.localStorage.getItem(I.SEARCH_ENGINE);if(t){let i=JSON.parse(t),s=C().list.find(o=>o.name===i.name);s&&(e=s)}}catch{}return e}function ct(e){window.localStorage.setItem(I.SEARCH_ENGINE,JSON.stringify(e))}function lt(){let e=window.localStorage.getItem(I.IS_DARK),t=window?.matchMedia?.("(prefers-color-scheme: dark)")?.matches;return!e&&t?t:!!Number(e)}function ut(e){return E(this,null,function*(){try{return yield navigator.clipboard.writeText(e),!0}catch(t){return W.emit("MESSAGE",{type:"error",message:t.message}),!1}})}function dt(e){return E(this,null,function*(){let t={valid:!1,url:e};if(!e||e==="null"||e==="undefined")return t;let{protocol:i}=window.location;return i==="https:"&&e.startsWith("http:")?t:new Promise(s=>{let o=document.createElement("img");o.src=e,o.style.display="none",o.onload=()=>{o.parentNode?.removeChild(o),t.valid=!0,s(t)},o.onerror=()=>{o.parentNode?.removeChild(o),s(t)},document.body.append(o)})})}function k(e=""){return e?e.replace(/<b>|<\/b>/g,""):""}function ft(){let{id:e}=A(),{oneIndex:t,twoIndex:i}=R(e),s=[],o=w();try{o[t]&&o[t]?.nav?.length>0&&(T||!o[t].nav[i].ownVisible)?s=o[t].nav[i].nav:s=[]}catch{s=[]}return s}function v(e){return String(e).padStart(2,"0")}function mt(e){let t=document.querySelectorAll(e),i=Number.MAX_SAFE_INTEGER;if(t.length<=0)return i;let o=t[0].parentNode.clientWidth,u=0;for(let c=0;c<t.length;c++){let l=t[c];if(u+=l.clientWidth,u>o){i=c-1;break}}return i}function J(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function gt(){let e=new Date,t=new Date(e.getFullYear(),0,0),i=e-t,s=1e3*60*60*24;return Math.floor(i/s)}function pt(){let e=y("_weeks"),t=new Date,i=t.getFullYear(),s=v(t.getHours()),o=v(t.getMinutes()),u=v(t.getSeconds()),c=t.getMonth()+1,l=t.getDate(),p=t.getDay(),n=v(l);return{year:i,hours:s,minutes:o,seconds:u,month:c,date:l,zeroDate:n,dayText:e[p]}}function ht(){let{theme:e,appTheme:t}=O(),i=J()?t:e;return i==="Current"?e:i}function R(e,t=0,i=!1){e=Number(e);let s=t,o=t,u=t,c=-1,l=[],p=w();t:for(let n=0;n<p.length;n++){let d=p[n];if(d.id===e){s=n,l.push(d.title);break}if(Array.isArray(d.nav))for(let m=0;m<d.nav.length;m++){let f=d.nav[m];if(f.id===e){c=d.id,s=n,o=m,l.push(d.title,f.title);break t}if(Array.isArray(f.nav))for(let r=0;r<f.nav.length;r++){let g=f.nav[r];if(g.id===e){c=f.id,s=n,o=m,u=r,l.push(d.title,f.title,g.title);break t}if(i&&Array.isArray(g.nav)){for(let b=0;b<g.nav.length;b++)if(g.nav[b].id===e){c=g.id,s=n,o=m,u=r,l.push(d.title,f.title,g.title);break t}}}}}return{parentId:c,oneIndex:s,twoIndex:o,threeIndex:u,breadcrumb:l}}function bt(e,t,i){if(!e||!t)return;let s=e.offsetWidth,o=t.offsetWidth,c=t.offsetLeft-(s-o)/2;e.scrollTo(x({left:c,behavior:"smooth"},i))}function It(e){e.target.style.display="none"}export{$ as a,nt as b,rt as c,ot as d,st as e,A as f,at as g,it as h,ct as i,lt as j,ut as k,dt as l,k as m,ft as n,mt as o,J as p,gt as q,pt as r,ht as s,R as t,bt as u,It as v};
